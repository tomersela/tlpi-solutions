# Code

## isatty.h
```C
#ifndef ISATTY_H
#define ISATTY_H

int isatty(int fd);

#endif // ISATTY_H

```

## isatty.c
```C
#include <termios.h>

#include "isatty.h"


int
isatty(int fd)
{
    struct termios tios;
    return tcgetattr(fd, &tios) != -1;
}

```

# Testing

## isatty_test.c
```C
#include "tlpi_hdr.h"
#include "isatty.h"

int
main(int argc, char *argv[])
{
    printf("stdin (fd 0): %s\n", isatty(0) ? "is a tty" : "not a tty");
    printf("stdout (fd 1): %s\n", isatty(1) ? "is a tty" : "not a tty");
    printf("stderr (fd 2): %s\n", isatty(2) ? "is a tty" : "not a tty");
    
    // test with an invalid fd
    printf("invalid fd (-1): %s\n", isatty(-1) ? "is a tty" : "not a tty");
    
    exit(EXIT_SUCCESS);
}

```

## Running
```
$ ./isatty_test 
stdin (fd 0): is a tty
stdout (fd 1): is a tty
stderr (fd 2): is a tty
invalid fd (-1): not a tty
$ ./isatty_test < /dev/null
stdin (fd 0): not a tty
stdout (fd 1): is a tty
stderr (fd 2): is a tty
invalid fd (-1): not a tty
$ ./isatty_test > /dev/null
$ ./isatty_test > output.txt 
$ cat output.txt 
stdin (fd 0): is a tty
stdout (fd 1): not a tty
stderr (fd 2): is a tty
invalid fd (-1): not a tty
$ 
```
